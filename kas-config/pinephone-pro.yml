header:
  version: 11
  includes:
    - pine-common.yml

machine: pinephonepro-1-0

target: pinephone-image

repos:
  meta-swupdate:
    url: https://github.com/sbabic/meta-swupdate
    refspec: master
    layers:
      .:

local_conf_header:
  pp: |
    PACKAGE_CLASSES = "package_ipk"
    INHERIT += "rm_work"
    DISTRO = "pp"
    DISTRO_FEATURES += " x11 systemd opengl wifi usbhost usbgadget bluetooth 3g pulseaudio pam wayland vulkan"
    EXTRA_DISTRO_FEATURES += " x11 systemd opengl wifi usbhost usbgadget bluetooth 3g pulseaudio pam wayland vulkan"
    INITRAMFS_IMAGE = "pinephone-initramfs"
    INITRAMFS_IMAGE_NAME = "core-image-minimal-initramfs-pinephonepro-1-0"
    INITRAMFS_IMAGE_BUNDLE = "1"
    PREFERRED_VERSION_cargo-native = "1.78.%"
    PREFERRED_VERSION_rust-llvm-native = "1.78.%"
    PREFERRED_VERSION_rust-native = "1.78.%"
    PREFERRED_VERSION_libstd-rs = "1.78.%"
    PREFERRED_VERSION_cargo = "1.78.%"
    PREFERRED_VERSION_rust = "1.78.%"
    PREFERRED_VERSION_libstd-rs-dev = "1.78.%"
    BBMASK += "poky/meta/recipes-devtools/rust"
    BBMASK += "poky/meta/recipes-devtools/cargo"
    DATA_LAYOUT[x86_64] = "e-m:e-p270:32:32-p271:32:32-p272:64:64-i64:64-i128:128-f80:128-n8:16:32:64-S128"
